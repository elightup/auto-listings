(()=>{var E=Object.create;var h=Object.defineProperty;var $=Object.getOwnPropertyDescriptor;var F=Object.getOwnPropertyNames;var L=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty;var V=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var j=(t,e,a,l)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of F(e))!M.call(t,s)&&s!==a&&h(t,s,{get:()=>e[s],enumerable:!(l=$(e,s))||l.enumerable});return t};var A=(t,e,a)=>(a=t!=null?E(L(t)):{},j(e||!t||!t.__esModule?h(a,"default",{value:t,enumerable:!0}):a,t));var v=V((J,x)=>{x.exports=wp.element});var r=A(v());var y=_.extend({},wp.codeEditor.defaultSettings);y.codemirror.theme="oceanic-next";var d=wp.codeEditor.initialize("als-post-content",y).codemirror,m=_.extend({},wp.codeEditor.defaultSettings);m.codemirror.mode="css";m.codemirror.theme="oceanic-next";var b=wp.codeEditor.initialize("als-post-excerpt",m).codemirror,D=_.extend({},wp.codeEditor.defaultSettings);m.codemirror.mode="javascript";m.codemirror.theme="oceanic-next";var f=wp.codeEditor.initialize("als-post-content-filtered",D).codemirror;var g=[...document.querySelectorAll(".als-tab__link")],C=[...document.querySelectorAll(".als-tab__pane")];g.forEach(t=>t.addEventListener("click",e=>T(e)));var T=t=>{N([...g,...C]),k(t.target,g),k(t.target,C)},N=(t,e="is-active")=>{t.forEach(a=>a.classList.remove(e))},k=(t,e,a="is-active")=>{t.classList.contains("button")&&t.classList.add(a),e.find(l=>l.dataset.tab===t.dataset.tab).classList.add(a),t.dataset.tab==="template-editor"&&(d.refresh(),d.focus()),t.dataset.tab==="css-editor"&&(b.refresh(),b.focus()),t.dataset.tab==="js-editor"&&(f.refresh(),f.focus())};var w=t=>{d.focus();let e=d.getDoc();e.replaceRange(t,e.getCursor())},z=()=>{let[t,e]=(0,r.useState)(!1),a=()=>e(!t),[l,s]=(0,r.useState)({text:"",name:"",type:""});return React.createElement(React.Fragment,null,Object.keys(als_admin.fields).map(o=>React.createElement(H,{key:o,text:als_admin.fields[o],name:o,toggleModal:a,setValue:s})),t?React.createElement(I,{text:l.text,name:l.name,type:l.type,toggleModal:a}):null)},B=()=>{let t=e=>{e.preventDefault();let a=e.target.dataset.name,l="";switch(a){case"toggle_wrapper":l=`[als_${a}]

[/als_${a}]`;break;default:l=`[als_${a}]`;break}w(l)};return React.createElement(React.Fragment,null,Object.keys(als_admin.fields_extra).map(e=>React.createElement("button",{class:"button","data-name":e,onClick:t},als_admin.fields_extra[e])))},H=({text:t,name:e,toggleModal:a,setValue:l})=>{let s=e==="button"?"button":"field";return React.createElement("button",{class:"button",onClick:u=>{u.preventDefault(),a(),l({text:t,name:e,type:s})}},t)},I=({text:t,name:e,type:a,toggleModal:l})=>{let[s,o]=(0,r.useState)({label:"",placeholder:"",prefix:"",suffix:"",type:"",multiple:!1}),u=(p,i)=>{let c=s;c[p]=i,o(c)};return React.createElement(React.Fragment,null,React.createElement("div",{class:"als-modal-overlay",onClick:l}),React.createElement("form",{className:"als-modal",onSubmit:p=>{p.preventDefault();let i="";switch(Object.keys(s).forEach(c=>{s[c]&&(i+=` ${c}="${s[c]}"`)}),e){case"button":case"keyword":i=`[als_${e}${i}]`;break;case"toggle_wrapper":i=`[als_${e}${i}]

[/als_${e}]`;break;default:i=`[als_${a} name="${e}"${i}]`;break}w(i),l()}},React.createElement("h3",null,t+" "+als_admin.translate.attributes,React.createElement("span",{className:"als-modal__close",onClick:l},"\xD7")),React.createElement("small",null,React.createElement("i",null,als_admin.translate.notice)),React.createElement(O,{type:a,name:e,setValue:u}),React.createElement("div",{className:"als-modal__actions"},React.createElement("button",{type:"submit",class:"button button-primary"},als_admin.translate.insert_field))))},O=t=>{let e=t.setValue;if(t.type==="button"){let n=[{value:"submit",label:als_admin.translate.submit},{value:"reset",label:als_admin.translate.reset},{value:"toggle",label:als_admin.translate.toggle}];return React.createElement(React.Fragment,null,React.createElement("label",null,React.createElement("span",null,als_admin.translate.label),React.createElement("input",{type:"text",onChange:p=>e("label",p.target.value),autoFocus:!0})),React.createElement("label",null,React.createElement("span",null,als_admin.translate.type),React.createElement(S,{options:n,setValue:e})))}if(t.name==="toggle_wrapper")return React.createElement(React.Fragment,null,React.createElement("label",null,React.createElement("span",null,als_admin.translate.toggle_button_label),React.createElement("input",{type:"text",onChange:n=>e("label",n.target.value),autoFocus:!0})));if(t.name==="keyword")return React.createElement(React.Fragment,null,React.createElement("label",null,React.createElement("span",null,als_admin.translate.label),React.createElement("input",{type:"text",onChange:n=>e("label",n.target.value),autoFocus:!0})),React.createElement("label",null,React.createElement("span",null,als_admin.translate.placeholder),React.createElement("input",{type:"text",onChange:n=>e("placeholder",n.target.value)})));let a=[{value:"select",label:als_admin.translate.select},{value:"radio",label:als_admin.translate.radio}],l=["price","min_price","max_price","odometer"],[s,o]=l.includes(t.name)?(0,r.useState)(!1):(0,r.useState)(!0),u=()=>o(!s);return React.createElement(React.Fragment,null,React.createElement("label",null,React.createElement("span",null,als_admin.translate.label),React.createElement("input",{type:"text",onChange:n=>e("label",n.target.value),autoFocus:!0})),React.createElement("label",null,React.createElement("span",null,als_admin.translate.placeholder),React.createElement("input",{type:"text",onChange:n=>e("placeholder",n.target.value)})),React.createElement("label",null,React.createElement("span",null,als_admin.translate.prefix),React.createElement("input",{type:"text",onChange:n=>e("prefix",n.target.value)})),React.createElement("label",null,React.createElement("span",null,als_admin.translate.suffix),React.createElement("input",{type:"text",onChange:n=>e("suffix",n.target.value)})),React.createElement("label",null,React.createElement("span",null,als_admin.translate.type),React.createElement(S,{options:a,toggleMultiple:u,setValue:e})),s?React.createElement("label",{className:"als-modal-checkbox"},React.createElement("input",{type:"checkbox",onChange:n=>e("multiple",n.target.checked)}),React.createElement("span",null,als_admin.translate.multiple)):"")},S=({options:t,toggleMultiple:e,setValue:a})=>React.createElement("select",{onChange:s=>{e&&e(),a&&a("type",s.target.value)}},t.map(({value:s,label:o})=>React.createElement("option",{value:s},o)));(0,r.render)(React.createElement(z,null),document.getElementById("als-fields"));(0,r.render)(React.createElement(B,null),document.getElementById("als-fields-extra"));})();
